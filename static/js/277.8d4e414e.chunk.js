"use strict";(self.webpackChunkGO_IT_React_Homework_05=self.webpackChunkGO_IT_React_Homework_05||[]).push([[277],{277:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),s=n(87),a=n(791),c=n(184),u=function(e){var t=e.search,n=e.setSearch,s=t.get("query"),u=(0,a.useState)(s||""),i=(0,r.Z)(u,2),o=i[0],l=i[1];return(0,c.jsxs)("form",{className:"",style:{marginBottom:"1rem"},onSubmit:function(e){e.preventDefault(),o&&n({query:o})},children:[(0,c.jsx)("input",{className:"",style:{width:"300px"},type:"text",name:"input",value:o,placeholder:"Enter movie name...",onChange:function(e){return l(e.target.value)}}),(0,c.jsx)("button",{type:"submit",children:"Search"})]})},i=n(433),o=n(609),l=n(924),h=n(689),m=function(e){var t=e.search,n=e.setSearch,u=t.get("query"),m=(0,a.useState)([]),f=(0,r.Z)(m,2),d=f[0],p=f[1],v=(0,a.useState)(0),x=(0,r.Z)(v,2),g=x[0],j=x[1],y=(0,a.useState)(1),_=(0,r.Z)(y,2),S=_[0],Z=_[1];(0,a.useEffect)((function(){if(u){(0,l.Wf)(u,S).then((function(e){p((function(t){return 1===S?e.results:[].concat((0,i.Z)(t),(0,i.Z)(e.results))})),1===S&&j(e.total_results)})).catch((function(e){return console.log(e)}))}}),[S,u]);var k=(0,h.TH)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("ul",{style:{marginBottom:"1rem"},children:d.map((function(e){return(0,c.jsx)("li",{style:{marginBottom:"0.5rem"},children:(0,c.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:k},children:(0,c.jsxs)("p",{children:[e.title,(0,c.jsxs)("span",{style:{marginLeft:"0.5rem",color:"grey"},children:["(",parseInt((null===e||void 0===e?void 0:e.release_date)||(null===e||void 0===e?void 0:e.first_air_date))||"Once apone a time",")"]})]})})},e.id)}))}),d.length>0&&d.length<g&&(0,c.jsx)(o.Z,{onClick:function(){n({query:u}),Z((function(e){return e+1}))}})]})},f=function(){var e=(0,s.lr)(),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,c.jsxs)("div",{className:"movies-page",children:[(0,c.jsx)(u,{search:n,setSearch:a}),(0,c.jsx)(m,{search:n,setSearch:a})]})}}}]);
//# sourceMappingURL=277.8d4e414e.chunk.js.map